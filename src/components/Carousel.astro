---
interface Panel {
    description: string;
}

const panels: Panel[] = [
    {
        description: "Participa en nuestros eventos de programación",
    },
    {
        description: "Comparte tus proyectos y recibe retroalimentación",
    },
    {
        description: "Conéctate con otros entusiastas de la tecnología",
    },
    {
        description: "Conecta con estudiantes y profesionales",
    },
    {
        description: "Colabora en proyectos activamente",
    },
];

panels.push(...panels); // Duplicate panels for seamless looping
---

<section class="reveal mask-l-from-97% mask-r-from-97% overflow-hidden w-full">
    <div
        id="carousel"
        class="animated-slide-left flex flex-row gap-10 justify-center"
    >
        {
            panels.map((panel, index) => (
                <div
                    id={`panel-${index}`}
                    class="panel w-[356px] lg:w-[456px] box-border shrink-0 h-[470px] lg:h-[570px] bg-(--bg-4) rounded-3xl flex flex-col justify-end items-start gap-10 p-10 text-3xl text-(--text-2)"
                >
                    <span class="text-4xl lg:text-6xl w-full wrap-anywhere">
                        {panel.description}
                    </span>
                </div>
            ))
        }
    </div>
</section>
<style>
    @keyframes slide-left-lg {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-496px); /* panel width + gap */
        }
    }

    @keyframes slide-left {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-396px); /* panel width + gap */
        }
    }

    .animated-slide-left {
        animation: slide-left 5s linear infinite;
    }

    @media (min-width: 1024px) {
        .animated-slide-left {
            animation: slide-left-lg 5s linear infinite;
        }
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const carousel = document.getElementById("carousel");

        carousel?.addEventListener("animationiteration", () => {
            console.log("Animation iteration completed");
            carousel.appendChild(carousel.firstElementChild);
        });
    });
</script>
